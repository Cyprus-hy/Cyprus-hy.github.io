<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Next之主题优化]]></title>
    <url>%2F2018%2F10%2F10%2FOptimization-Ways-for-Next%2F</url>
    <content type="text"><![CDATA[实现功能通过上一篇博文的学习，我相信大家已经搭建出了功能相对完整的专属个人博客，但其实原生的next主题功能还是显得简陋了些，所以在这篇博文中我们就将学习如何在以下几个方面对next主题进行优化： 创建关于、标签、分类菜单项 添加本地搜索功能 添加头像 侧边栏设置社交链接 设置网站的图标Favicon 自定义代码块 浏览页面时显示当前进度 添加顶部加载条 添加网站访问量 隐藏底部的“Hexo强力驱动“字样 修改标签前的# 添加阅读全文 显示文章的字数与阅读时长 添加文章结束的显示字符 添加打赏功能 打开文章底部版权说明 添加文章分享链接 添加网站背景图片 图床的应用 在以上功能的实现过程中，我们需要对Hexo文件夹中的文件进行修改，由于config.yml配置文件存在两个，一个在根目录\Hexo\blog下，另一个在目录\Hexo\blog\themes\next下，为了进行区分，我们称前者为站点配置文件，后者为主题配置文件。同时，一定要注意的是修改_config.yml文件时冒号后面一定要有一个空格，否则生成代码时会报错。最后，根目录指的是路径\Hexo\blog，所有的插件安装命令都将在根目录下执行，下文将不再提醒。 具体步骤创建关于、标签、分类菜单项首先我们在主题配置文件的menu部分中开启关于、标签与分类菜单： 123456menu: home: / || home about: /about/ || user tags: /tags/ || tags categories: /categories/ || th archives: /archives/ || archive 接下来我们利用命令行在\Hexo\blog\source目录下创建about、categories与tags这三个文件夹： 123hexo new page abouthexo new page categorieshexo new page tags 最后我们修改\Hexo\blog\scaffolds目录下的post文档（博文的模板）如下： 12345678---title: &#123;&#123; title &#125;&#125;date: &#123;&#123; date &#125;&#125;updated:tags: -categories:--- 添加本地搜索功能效果图： 实现方法：首先我们在根目录下安装本地搜索插件： 1npm install hexo-generator-searchdb --save 接着我们添加如下代码到站点配置文件的尾部： 12345search: path: search.xml field: post format: html limit: 10000 最后我们将主题配置文件的local_search设为true： 12local_search: enable: true 添加头像在主题配置文件中，我们放入头像图片的链接地址至avatar部分： 12345avatar: # in theme directory(source/images): /images/header.jpg # in site directory(source/uploads): /uploads/avatar.gif # You can also use other linking images. url: http://pgc23xl25.bkt.clouddn.com/blog/181009/a7I2C3k6JK.jpg?imageslim 在我的博客中，我是将图片存储在了七牛云的个人空间中（关于图床的使用我们会在后面介绍，以下所有我的图片链接都换成你自己的即可）；如果你的图片是存在本地的话，只需将地址修改为/images/头像图片名.jpg即可。 侧边栏设置社交链接在网站的侧边栏，我们可以添加一些我们的个人社交账号的链接，比如我就添加了自己的知乎、Github、Email与Twitter链接。在主题配置文件的social部分，我们可以修改如下： 123456social: 知乎: https://www.zhihu.com/people/ni-chen-23-96/activities || stack-overflow GitHub: https://github.com/Cyprus-hy || github E-Mail: mailto:heyuncc@163.com || envelope #Google: https://plus.google.com/yourname || google Twitter: https://twitter.com/Cyprus || twitter 设置网站的图标Favicon在网页的加载过程中，我们会在浏览器的标签页上看到一个小图标，那么我们可以通过对主题配置文件favicon部分的修改更换图标： 1234favicon: small: http://pgc23xl25.bkt.clouddn.com/blog/181009/a7I2C3k6JK.jpg?imageslim medium: http://pgc23xl25.bkt.clouddn.com/blog/181009/a7I2C3k6JK.jpg?imageslim apple_touch_icon: http://pgc23xl25.bkt.clouddn.com/blog/181009/a7I2C3k6JK.jpg?imageslim 自定义代码块在next主题中，默认的代码块是灰色的，有些难看，因此我们可以将其改成彩色的。在\Hexo\blog\themes\next\source\css\_custom目录下的custom.styl文件中添加如下代码： 123456789101112131415// Custom styles.code &#123; color: #ff7600; background: #fbf7f8; margin: 2px;&#125;// 边框的自定义样式.highlight, pre &#123; margin: 5px 0; padding: 5px; border-radius: 3px;&#125;.highlight, code, pre &#123; border: 1px solid #d6d6d6;&#125; 浏览页面时显示当前进度在主题配置文件中，将scrollpercent部分改为true即可： 1scrollpercent: true 添加顶部加载条在主题配置文件中，将pace部分设置为true并选择一种加载样式即可： 123456789101112131415161718pace: true# Themes list:#pace-theme-big-counter#pace-theme-bounce#pace-theme-barber-shop#pace-theme-center-atom#pace-theme-center-circle#pace-theme-center-radar#pace-theme-center-simple#pace-theme-corner-indicator#pace-theme-fill-left#pace-theme-flash#pace-theme-loading-bar#pace-theme-mac-osx#pace-theme-minimal# For example# pace_theme: pace-theme-center-simplepace_theme: pace-theme-minimal 添加网站访问量效果图： 实现方法：修改主题配置文件的busuanzi_count部分如下： 12345678busuanzi_count: enable: true total_visitors: true total_visitors_icon: user total_views: true total_views_icon: eye post_views: true post_views_icon: eye 隐藏底部的“Hexo强力驱动“字样在原生的next主题中，网站底部会有关于Hexo与NexT的一些版本链接信息，我们可以通过修改主题配置文件的copyright部分将其隐藏： 12345678910111213copyright:# -------------------------------------------------------------powered: # Hexo link (Powered by Hexo). enable: false # Version info of Hexo after Hexo link (vX.X.X). version: false theme: # Theme &amp; scheme info link (Theme - NexT.scheme). enable: false # Version info of NexT after scheme info (vX.X.X). version: false 修改标签前的效果图： 实现方法：修改\Hexo\blog\themes\next\layout\_macro目录下的post.swig文件，搜索 rel=&quot;tag&quot;&gt;#，并将#替换为&lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt;。 添加阅读全文效果图： 实现方法：在markdown文章中要进行分割的段落前加上如下代码： 1&lt;!--more--&gt; 显示文章的字数与阅读时长效果图： 实现方法：首先在根目录下安装插件： 1npm install hexo-symbols-count-time --save 接着在站点配置文件的末尾加上如下代码： 123456# 阅读时间与文章字数symbols_count_time: symbols: true time: true total_symbols: true total_time: true 最后修改主题配置文件的symbols_count_time部分如下： 123456symbols_count_time: separated_meta: true item_text_post: true item_text_total: false awl: 2 wpm: 275 同时，你也可以参考官方文档。 添加文章结束的显示字符效果图： 实现方法：在目录\Hexo\blog\themes\next\layout\_macro下新建 passage-end-tag.swig 文件，并添加以下内容： 12345&lt;div&gt; &#123;% if not is_index %&#125; &lt;div style="text-align:center;color: #ccc;font-size:14px;"&gt;---------------本文结束&lt;i class="fa fa-paw"&gt;&lt;/i&gt;感谢您的阅读---------------&lt;/div&gt; &#123;% endif %&#125;&lt;/div&gt; 接着打开\Hexo\blog\themes\next\layout\_macro\post.swig文件，在post-body 之后， post-footer之前添加如下代码： 12345&lt;div&gt; &#123;% if not is_index %&#125; &#123;% include 'passage-end-tag.swig' %&#125; &#123;% endif %&#125;&lt;/div&gt; 最后在站点配置文件的末尾添加如下代码： 123# 文章末尾添加“本文结束”标记passage_end_tag: enabled: true 添加打赏功能效果图： 实现方法:将主题配置文件的Reward部分修改如下： 1234# Rewardreward_comment: ----------此处弱弱求打赏*٩(๑´∀`๑)ง*----------wechatpay: http://pgc23xl25.bkt.clouddn.com/blog/181009/bGKK6F13Aa.jpg?imageslimalipay: http://pgc23xl25.bkt.clouddn.com/blog/181009/kA14bGK2H5.jpg?imageslim 其中wechatpay与alipay分别对应着你自己的微信与支付宝收款码。 打开文章底部版权说明效果图： 实现方法：将主题配置文件的post_copyright部分修改为true即可： 12post_copyright: enable: true 添加文章分享链接效果图： 实现方法：首先进入目录\Hexo\blog\themes\next下，并将相关库克隆至source/lib下： 1git clone https://github.com/theme-next/theme-next-needmoreshare2 source/lib/needsharebutton 接着根据自己的需要修改主题配置文件的needmoreshare2部分： 12345678enable: truepostbottom: enable: true options: iconStyle: box boxForm: horizontal position: bottomCenter networks: Wechat,QQZone,Weibo,Douban,Twitter 同时，你也可以参考官方文档。 添加网站背景图片在原生的next主题中，网站是没有背景图的，因此你可以根据自己的需要添加网页的背景图。在\Hexo\blog\themes\next\source\css\_custom目录下的custom.styl文件中添加如下代码： 1234567body&#123; background:url(http://pgc23xl25.bkt.clouddn.com/blog/181009/3KJ9gedamb.jpg?imageslim); background-size:cover; background-repeat:no-repeat; background-attachment:fixed; background-position:center;&#125; 图床的应用由于Github Pages的存储空间是有限的，因此我们可以考虑将我们的图片资源存储在七牛云的免费空间中。首先，我们需要在七牛云的官网注册一个账号（需要上传身份证进行审核）；接下来在对象存储中新建一个存储空间；然后再去官网下载一个图床神器MPic并设置自己的七牛云账号（Acesskey与Sceretkey可以在个人中心的密钥管理处查询）： 设置好账号后我们就可以拖拽图片到MPic图床处直接上传啦，当然你也可以设置MPic图床截图自动上传与复制图片自动上传，这样更方便！ 结语对于next主题的优化，网上已经有很多教程，比如我就参考了这一篇和另一篇。但这些教程对应的next版本都比较老了，实际上目前很多功能已经被next收录了，所以你可以在主题配置文件中找到很多相关说明。同时对于每一部分的功能实现，配置文件中也给出了相应的参考网址，所以我建议你可以多读一读官方文档，这样往往会有事半功倍的效果。 最后，请开始你的博客之旅吧！٩(｡・▽・｡)ρ]]></content>
      <categories>
        <category>博客教程</category>
      </categories>
      <tags>
        <tag>next</tag>
        <tag>七牛云</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[搭建个人博客的简易教程]]></title>
    <url>%2F2018%2F10%2F05%2FTips-for-Building-Personal-Blog%2F</url>
    <content type="text"><![CDATA[写在前面其实很早就有搭建自己的专属博客的想法，一方面是希望用博客及时记录下自己在学习上的收获，方便复习；另一方面则是觉得自己似乎陷入了一种“快餐文化”，很多书、影视剧明明看过，但过不了两天就忘得一干二净了，真的就像那句话说的：I see that, but just see. 所以也希望自己能通过博客分享一些自己的人生感悟啥的，让自己变得勤于思考一些。 好了，接下来进入正题——如何让小白能在短时间内搭出一个让自己满意的博客，从零开始显然不是我们的风格，现在都8102年了，早已是开源的时代，网上有那么多好的框架我们当然得利用起来，所以本篇教程是以Github Pages为服务器支撑、Hexo的next主题背景为基础的，力求做到简单易上手。（PS：搭建我自己的博客我大概是用了一天多点，但其中大部分时间是花在了主题next的优化上，因为原生的next看起来会比较朴素，需要自己根据需要再往里面加功能，这个我会在下一篇博文中给出详细教程） 搭建个人博客 几点注意事项 1.以下所有关于npm install与hexo的命令行指令都是在hexo的blog目录下完成 2.配置文件_config.yml对格式要求很高，修改的时候注意每一个属性的冒号后有一个空格 3.我在GitHub中创建的个人博客仓库是以我的用户名命名的：Cyprus-hy.github.io，因此Cyprus-hy实际上对应着你自己的用户名 准备工作首先我们需要安装好Node.js、Git、Hexo这几个软件并提前在GitHub官网上注册好账号 安装Git直接去Git官网下载就好了，除了安装地址，其它设置都按默认的来，一直点next即可 安装Node.js一样地，也是去官网下载，然后一路next点到底 安装Hexo打开终端下的命令行界面，windows系统可以直接在左下角的搜索框中搜索cmd字样并回车，也可以用win+R的组合键再输入cmd打开，再在其中输入代码npm install -g hexo-cli，它就会自动帮你装好了，如下图： 注册Github账号事实上，每一个网站都有大量的资源文件需要进行存储，所以很多网站都会向提供商购买主机空间，但由于我们是个人博客，存储的资源并没有那么多，因此我们可以借用一下GitHub的免费网页服务，基本上也是够用的。注册账号的话上官网就好了（PS：我的界面是翻译后的，所以显示的是中文，相信英文界面你们也能看懂），记得用户名不要出现汉语。 配置本地博客首先在你的D盘或者E盘新建一个Hexo文件夹，然后再在Hexo文件夹上面的地址栏（也就是显示Hexo绝对路径的地方）里输入cmd，打开此目录下的命令行窗口，输入以下代码（所有的指令都是一行一行输入）： 1234hexo i blog //i是init的缩写 blog是项目名，代表在Hexo文件夹下再新建一个blog文件夹cd blog //切换到blog目录下hexo g //generetor的缩写，生成代码hexo s //server的缩写，部署在服务器上 正常情况下，每执行完一条语句就会有很多串代码，如果没有明显的fatal或failed等字样应该就没啥问题，同时我们在地址栏输入localhost:4000进行跳转查看，如果上面没啥问题的话，界面应该是这样的（盗用了一张别人的图，侵删）： 更改主题相信你也发现了，Hexo自带的原生主题其实是蛮丑的，所以我们可以换一个好看一些的主题。关于主题，GitHub上有很多资源包，我比较喜欢的是yilla与next。首先我们用cd themes命令进入到themes文件夹下，再将主题包从Github上克隆下来： yilia: 1git clone https://github.com/litten/hexo-theme-yilia.git next: 1git clone https://github.com/theme-next/hexo-theme-next themes/next 由于我自己使用的是next主题，所以我接下来的一系列设置都针对的是next，如果您喜欢的是yilia或者其它主题，可以另外寻找一下教程。 这时我们会发现在blog的themes目录下已经出现了一个next文件夹，而这就是我们的主题包。接下来我们介绍配置文件_config.yml，实际上它有两个，一个在blog目录下，称为站点配置文件；而另一个在next文件夹下，称为主题配置文件，这两个文件很重要，修改的时候一定要注意是改哪一个！ 此外，next下还细分了四种主题：Muse、Mist、Pisces与Gemini，默认的是Muse，不过我觉得Pisces和Gemini更好看（我用的是Gemini，不过我发现Pisces和Gemini一样的啊），可以自己在主题配置文件中改一改看一看： 每次修改完后，我们都需要重新生成代码并部署到本地服务器上进行更新： 123hexo clean //清除之前生成的代码hexo g //重新生成代码hexo s //部署到本地服务器 最后跳转到localhost:4000网页进行查看next的主题效果。 配置Github PagesGithub有专为网页服务的个人仓库，因此我们首先创建一个个人仓库，点击个人主页的右上角Create a repositor ，进入如下页面： 这里需要注意的是仓库的名字格式必须为Cyprus-hy.github.io（Cyprus-hy对应你自己的用户名，因为我的同名仓库已经存在，所以无法创建），然后其它的部分可以仿照我的进行勾选。接下来我们再更改仓库的设置，点击如下图的设置： 下拉到Github Pages选项，并点击choose a theme： 注意，我这里的网址是已经进行了域名解析了的,正常情况下最上方出现的应是Your site is published at http://www.Cyprus-hy.github.io/，其中Cyprus-hy对应你自己的用户名。 然后在如下界面中随便选择一个主题进行应用，当然最终这个会被next替换的： 主题应用完之后，我们可以在地址栏输入用户名.github.io进行跳转访问，这时你就能看到Github给你提供的免费个人博客网页啦，接下来我们要做的就是把自己的网页主题更改成next。 配置SSH首先执行下面的命令生成SSH： 1ssh-keygen 按三次回车，即可生成id_rsa.pub文件，如果你的电脑装有vim编译器，你可以用指令vim ~/.ssh/id_rsa.pub查看文件中的内容并进行复制；如果你没有vim，你可以使用搜索软件搜索到本地的id_rsa.pub文件再打开查看（搜索软件推荐everything，查看编辑软件推荐sublime text）。复制文件中的所有内容，并在Github的个人主页中点击设置，再在左侧的个人设置中点击选项SSH和GPG keys，然后点击右侧的New SSH key，出现如下界面： 此时我们需要把从id_rsa.pub文件中复制的内容粘贴到下面的key框中，其中title可以随意填写，再点击Add SSH key即可。 同时，为了验证SSH是否已经配置好，我们可以输入如下指令： 1ssh -T git@github.com 如果出现了类似的如下信息，即代表配置成功： 1Hi Cyprus-hy! You&apos;ve successfully authenticated, but GitHub does not provide shell access. 配置本地Hexo首先我们打开站点配置文件，仿照我的格式对Deployment部分做如下修改： 123456# Deployment## Docs: https://hexo.io/docs/deployment.htmldeploy: type: git repository: https://github.com/Cyprus-hy/Cyprus-hy.github.io.git branch: master 注意仓库内填入你自己的用户名以及切记冒号后的空格！！！ 接下来我们安装一个插件，它可以将你在本地Hexo文件夹中的修改自动同步到Github的个人博客仓库中： 1npm install hexo-deployer-git --save 然后重新生成代码并部署到GitHub的服务器上（注意掌握这三句指令，任何修改都需要在服务器上重新部署）： 123hexo cleanhexo ghexo d //部署指令，注意这里是d而不是s 最后我们再次访问地址用户名.github.io就会发现你的博客页面已经变成next主题啦。 对于搭建个人博客的过程，我参考了这个与另一个博客，特此感谢。 域名解析尽管Github向我们提供了一个免费的域名：用户名.github.io，但这个域名用起来还是挺不方便的，因为它的访问速度比较慢，而且你在本地的修改部署到服务器上后会有比较大的延迟，经常要刷新好几次或者等好一会儿才会看到更新。所以我还是推荐花几十块钱买个一年的域名，在网上搜了一圈发现推荐的基本都是国外的Godaddy与阿里云的万网，因为它两服务都还可以、价格还算实惠以及不用备案。我自己选择的是Godaddy，服务还行，但是我一定要吐槽的一点就是它们发邮件的速度太慢了，要过很久才能收到，尤其是QQ邮箱。由于Godaddy自己的域名解析比较慢，所以我用了DNSPod进行解析，并将Godaddy自己的域名服务器修改为DNSPod的域名地址。 购买域名上Godaddy官网买就好了，选一个自己喜欢的域名，一般.com和.net后缀的会比较贵，个人博客的话完全可以买.ifo与.co这样便宜的，还有就是Godaddy的附加服务可以都不选，没啥用。 DNSPod设置域名首先进入DNSPod官网，点击中间的添加域名把你刚刚买好的域名添加进行，然后点击域名进行添加记录。在这里我们需要添加两条记录，一条CNAME记录用于指向域名，多用于带www的访问；一条A记录用于指向域名对应的IP，多用于不带www的访问。以我自己的博客Cyprus-hy.github.io为例，我们首先ping一下它的IP： 1ping Cyprus-hy.github.io 接着我们开始添加这两条记录，如下图的第一条与第四条记录，而第二、三条记录是DNSPod自动生成的，这个会在Godaddy自己的域名服务器上用到： 添加CNAME文件同时，我们需要在个人博客仓库中添加CNAME文件，在Cyprus-hy.github.io仓库中点击右上角的Create new file，文件名为CNAME，文件内容为www.heyun.life，即对应你自己购买的域名。 然后我们可以通过Download的方式下载下整个仓库并将CNAME文件放到Hexo\blog\source处。当然，你可以先在本地创建CNAME文件再同步到Github上，但需要注意CNAME文件是没有后缀名的。 Godaddy配置由于Godaddy才是我们域名的管理商，而我们又希望通过DNSPod进行域名解析，因此我们需要将Godady的域名服务器指定为DNSPod的域名地址。这里需要插一句，在购买完域名后，Godaddy会发送邮件进行邮箱认证，如果你注册用的是QQ邮箱，接收到邮件的时间要很久，网易的163邮箱与Gmail会好一些，但也要一段时间，所以耐心等待就好，因为没有验证邮箱的话是无法进行接下来的操作的。 首先，我们依次点击我的产品-&gt;DNS，如下图： 接着我们下拉界面至域名服务器，点击更改进行自定义配置： 上图是我已经配置好的域名服务器，这里我再给出一下DNSPod的域名地址： 12f1g1ns1.dnspod.netf1g1ns2.dnspod.net 由于域名解析生效需要一段时间（大概20分钟），所以我们只需要等待一段时间便可以在浏览器的地址栏输入自己的博客域名进行访问啦。 对于域名解析的步骤，我参考了这位作者的博客，特此感谢。 结语到这里，我们已经完成了个人博客的搭建，怎么样，看着自己的博客可以被浏览器访问是不是成就感爆棚呢？哈哈哈。不过别着急，细心的你应该发现了：原生的next主题的功能是不完善的，比如没有搜索、分类等功能，也没有个人头像等信息，而在下一个教程中，我就将带领大家对next主题进行优化。]]></content>
      <categories>
        <category>博客教程</category>
      </categories>
      <tags>
        <tag>Github Pages</tag>
        <tag>Hexo</tag>
        <tag>next</tag>
        <tag>DNSPod</tag>
      </tags>
  </entry>
</search>
